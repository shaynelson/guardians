<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sports Team Rankings</title>
  <style>
    :root {
      --bg: #0f172a;       /* slate-900 */
      --card: #111827;     /* gray-900 */
      --text: #e5e7eb;     /* gray-200 */
      --muted: #9ca3af;    /* gray-400 */
      --accent: #22d3ee;   /* cyan-400 */
      --row: #0b1224;      /* deep slate */
      --row-alt: #0d1429;
      --border: #1f2937;   /* gray-800 */
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, #0b132b 0%, #0f172a 35%, #020617 100%);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 2rem;
    }
    .wrap {
      width: min(1100px, 100%);
    }
    .card {
      background: color-mix(in oklab, var(--card) 85%, black 15%);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      box-shadow:
        0 1px 0 rgba(255,255,255,0.02) inset,
        0 20px 60px -20px rgba(34, 211, 238, 0.25);
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(6px);
    }
    .title {
      font-weight: 700;
      letter-spacing: 0.2px;
    }
    .sub {
      color: var(--muted);
      font-size: 0.9rem;
    }
    .controls {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    .btn {
      border: 1px solid var(--border);
      background: linear-gradient(180deg, #0a1322, #0a0f1a);
      color: var(--text);
      padding: 0.5rem 0.75rem;
      border-radius: 10px;
      font-size: 0.9rem;
      cursor: pointer;
    }
    .btn:hover { border-color: #334155; }
    .table-wrap {
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-variant-numeric: tabular-nums lining-nums;
    }
    thead th {
      text-align: left;
      font-weight: 600;
      color: var(--muted);
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border);
      position: relative;
      white-space: nowrap;
    }
    thead th button {
      all: unset;
      cursor: pointer;
      color: inherit;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
    }
    thead th .dir {
      width: 0.65rem;
      height: 0.65rem;
      border: 1.5px solid var(--muted);
      border-left: none;
      border-bottom: none;
      transform: rotate(45deg);
      opacity: 0.7;
    }
    thead th[data-dir="desc"] .dir { transform: rotate(-135deg); }
    tbody tr:nth-child(odd) { background: var(--row); }
    tbody tr:nth-child(even) { background: var(--row-alt); }
    tbody td {
      padding: 0.85rem 1rem;
      border-bottom: 1px solid var(--border);
    }
    .rank {
      width: 3rem;
      color: var(--muted);
    }
    .team {
      font-weight: 600;
      letter-spacing: 0.2px;
    }
    .points {
      font-weight: 700;
      color: var(--accent);
    }
    .note {
      font-size: 0.85rem;
      color: var(--muted);
      padding: 0.75rem 1rem;
    }
    @media (max-width: 640px) {
      thead th:nth-child(2) { min-width: 180px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Sports team rankings">
      <div class="header">
        <div>
          <div class="title">BIIH Standings</div>
          <div class="sub">Sorted by total points. Click a header to sort.</div>
        </div>
        <div class="controls">
          <button class="btn" id="resetSort">Reset sort</button>
          <button class="btn" id="sortPoints">Sort by Points</button>
        </div>
      </div>

      <div class="table-wrap">
        <table id="standings" aria-describedby="standingsNote">
          <thead>
            <tr>
              <th class="rank">#</th>
              <th>
                <button data-key="team">
                  Team <span class="dir" aria-hidden="true"></span>
                </button>
              </th>
              <th>
                <button data-key="wins">
                  Wins <span class="dir" aria-hidden="true"></span>
                </button>
              </th>
              <th>
                <button data-key="losses">
                  Losses <span class="dir" aria-hidden="true"></span>
                </button>
              </th>
              <th>
                <button data-key="otWins">
                  OT wins <span class="dir" aria-hidden="true"></span>
                </button>
              </th>
              <th>
                <button data-key="points">
                  Points <span class="dir" aria-hidden="true"></span>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <!-- Rows injected by script -->
          </tbody>
        </table>
      </div>

      <div id="standingsNote" class="note">
         2 per win, 1 per OT win. Losses yield 0
      </div>
    </div>
  </div>

  <script>
    // Example data â€” replace or load dynamically
    const data = [
      { team: "Hot Wings",   wins: 3, losses: 5,  otWins: 0 },
      { team: "Expos",    wins: 5, losses: 3,  otWins: 0 },
      { team: "Bears",     wins: 2, losses: 6, otWins: 1 },
      { team: "Bulls",    wins: 6, losses: 2,  otWins: 0 },
      { team: "Warriors",    wins: 6, losses: 2, otWins: 1 },
      { team: "Revs",   wins: 4, losses: 5,  otWins: 0 },
      { team: "Oilers",   wins: 4, losses: 4, otWins: 1 }
    ];

    // Customize scoring here
    function computePoints(row) {
      return (row.wins * 2) + (row.otWins * 1);
    }

    // State
    let sortKey = "points";
    let sortDir = "desc"; // 'asc' | 'desc'

    // Render table
    function render() {
      const withPts = data.map(d => ({ ...d, points: computePoints(d) }));
      const sorted = [...withPts].sort((a, b) => {
        const A = a[sortKey], B = b[sortKey];
        if (A < B) return sortDir === "asc" ? -1 : 1;
        if (A > B) return sortDir === "asc" ? 1 : -1;
        // Tie-breakers: wins, otWins, losses
        const tiebreakKeys = ["wins", "otWins", "losses"];
        for (const k of tiebreakKeys) {
          if (a[k] !== b[k]) {
            return (a[k] < b[k]) ? (sortDir === "asc" ? -1 : 1)
                                 : (sortDir === "asc" ? 1 : -1);
          }
        }
        return 0;
      });

      const tbody = document.querySelector("#standings tbody");
      tbody.innerHTML = "";
      sorted.forEach((row, i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="rank">${i + 1}</td>
          <td class="team">${row.team}</td>
          <td>${row.wins}</td>
          <td>${row.losses}</td>
          <td>${row.otWins}</td>
          <td class="points">${row.points}</td>
        `;
        tbody.appendChild(tr);
      });

      // Update header arrows
      document.querySelectorAll("thead th").forEach(th => th.removeAttribute("data-dir"));
      const th = document.querySelector(`thead button[data-key="${sortKey}"]`)?.parentElement;
      if (th) th.setAttribute("data-dir", sortDir);
    }

    // Events
    document.querySelectorAll("thead button[data-key]").forEach(btn => {
      btn.addEventListener("click", () => {
        const key = btn.getAttribute("data-key");
        if (sortKey === key) {
          sortDir = sortDir === "asc" ? "desc" : "asc";
        } else {
          sortKey = key;
          sortDir = key === "team" ? "asc" : "desc";
        }
        render();
      });
    });

    document.getElementById("resetSort").addEventListener("click", () => {
      sortKey = "points";
      sortDir = "desc";
      render();
    });

    document.getElementById("sortPoints").addEventListener("click", () => {
      sortKey = "points";
      sortDir = "desc";
      render();
    });

    // Init
    render();
  </script>
</body>
</html>
